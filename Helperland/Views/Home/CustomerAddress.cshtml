@using Helperland_projectContext.Models;
@model IEnumerable<UserAddress>

        <table class="w-100 border-box table align-middle mt-3 justify-content-between">
            <thead>
            <tr>
                <th class="ps-5 pe-5">Addresses</th>
                <th>Actions</th>
            </tr>
            </thead>
            <tbody>
            @if(Model != null)
            {
                foreach (var items in Model)
                {
                    <tr>
                        <td class="ps-5 pe-5">
                            <span class="row-head">Address:</span>@items.AddressLine1 , @items.AddressLine2 , @items.City , @items.PostalCode<br>
                            <span class="row-head">Phone Number:</span> @items.Mobile.
                        </td>
                        <td>
                            <button id="EditAddress" data-id="@items.AddressId"><img src="~/image/edit-icon.png"></button>
                            <button id="delete-icon+" data-id="@items.AddressId" data-bs-toggle="modal" data-bs-target="#delete1"><img src="~/image/delete-icon.png"></button>
                        </td>
                    </tr>   
                }
            }
            </tbody>
        </table>
        <button id="AddAddress" data-id="0" class="book-now mt-3 ps-2 pe-2">Add New Address</button>
<!--Delete service modal-->
<div class="modal fade" id="delete1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
        <div>
          <span class="modal-title" id="exampleModalLabel">Cancel Service Request</span>
          <button type="button" class="btn-close x" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <span class="mt-2 model-head">Are you sure you want to delete?</span><br>
        <button   class="update mt-2" id="deleteAddress" type="button">Delete</button>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="AddOrEdit" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body" id="body"> 
                  <div>
           <span class="modal-title" id="exampleModalLabel">Add Address</span>
           <button type="button" class="btn-close x" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <form class="form ps-3 pt-3 mb-3" id="AddOrEditform">

        <div class="d-flex flex-xl-nowrap flex-row w-100">
        <div class="d-flex flex-xl-nowrap flex-column w-100">
            <span class="mb-3">
            <label class="form-label row-head">Street Name</label>
            <div class="col-sm-5 w-100">
                <input type="text" id="line_2"   class="form-control" placeholder="Street Name">
            </div>
            </span>
            <span class="mb-3">
            <label class="form-label row-head">Postal code</label>
            <div class="col-sm-5 w-100">
                <input type="text" id="pin"  class="form-control" placeholder="Postal code">
            </div>
            </span>
            <span class="mb-3">
            <label class="form-label row-head">Mobile number</label>
            <div class="input-group col-sm-5 w-100">
                <span class="input-group-text" id="basic-addon1">+49</span>
                <input type="text" id="mobile"  class="form-control" placeholder="Mobile number">
            </div>
            </span>
        </div>
        <div class="d-flex flex-xl-nowrap flex-column w-100 me-3 ms-3">
            <span class="mb-3">
            <label class="form-label row-head">House Number</label>
            <div class="col-sm-5 w-100">
                <input type="text" id="line_1"  class="form-control" placeholder="House Number">
            </div>
            </span>
            <span class="mb-3">
            <label class="form-label row-head">City</label>
            <div class="col-sm-5 w-100">
                <input type="text" id="city"  class="form-control" placeholder="City">
            </div>
            </span>
        </div>
        </div>

        <button class="save text-center mb-3">Save</button>
    </form>
    </div>
    </div>
  </div>
</div>

<script>
    $(document).on("click","#AddOrEdit",function(){
        var id = $(this).attr("data-id");
        var title;
        if( id == 0 )
        {
            title = "Add Address";
        }
        else
        {
            title = "Edit Address";
        }
        $.ajax({
            url : '@Url.Action("CustomerAddressAddOrEdit" , "Home")',
            method: "GET",
            dataType : "json",
            data: { Id: $(this).attr("data-id") },
            success: function(resp){
                console.log(resp);
                $("#body .modal-body").html(res);
                $("#body .modal-title").html(title);
                $("AddOrEdit").modal();
            },
            error: function(err){
                console.log(err);   
                alert("error");
            }
        });
    });
</script>




